import{a as b,V as w,o as r,b as p,f as n,j as a,t as d,p as c,k as _}from"./entry.373ff171.js";const m={components:{VuePdfEmbed:w},head(){return{script:[{src:"https://telegram.org/js/telegram-web-app.js?1"}]}},computed:{query_id(){let s=window.location.hash.toString();const e=/query_id=(.*)&user/;return s.match(e)[1]}},data(){return{dtest:null,source1:"/tgwebapps/Arduino.pdf",page:1,pageCount:1,wH:window.innerHeight-200,wW:window.innerWidth-200,done:!1}},mounted(){window.addEventListener("orientationchange",this.rotate)},methods:{goNext(){this.page<this.pageCount&&(this.page+=1);{let s=window.Telegram;console.log("TG",s);let e=s.WebApp;window.Telegram.WebApp.ready(),window.Telegram.WebApp.expand(),window.Telegram.WebApp.BackButton.show(),window.Telegram.WebApp.MainButton.show(),console.log("initData",e.initData),this.dtest=window.Telegram.WebApp,this.done=!0}},rotate(){window.Telegram.WebApp.expand(),this.wH=window.innerHeight-100,this.wW=window.innerWidth-100,this.$router.go(0)},pdfRendered(){this.pageCount=this.$refs.pdfRef.pageCount},async goTelegram(){let s="https://api.telegram.org/1062787587:AAEZkp7S-QrOPHwRmnTtaWfae_9FwFwu3mQ/answerWebAppQuery",e="web_app_query_id="+this.query_id,l="result=%7B%22type%22%3A%22article%22%2C%22id%22%3A%22AID%22%2C%22title%22%3A%22Title%22%2C%22input_message_content%22%3A%7B%22message_text%22%3A%22CONTENT%22%7D%7D";l=l.replace("CONTENT","RESULT");let u="?"+e+"&"+l;console.log("URL",s+u),await $fetch(s+u)}}},g=s=>(c("data-v-90cbd777"),s=s(),_(),s),h={key:0,class:"hmode"},v={class:"rbtns"},A={key:1,class:"vmode"},y={class:"bbtns"},T={key:2},f=g(()=>n("br",null,null,-1)),C=g(()=>n("br",null,null,-1)),W=g(()=>n("br",null,null,-1)),k=g(()=>n("br",null,null,-1)),x={key:3};function N(s,e,l,u,t,i){return r(),p("div",null,[t.wW>t.wH?(r(),p("div",h,[n("div",v,[n("button",{class:"vbtn",onClick:e[0]||(e[0]=o=>t.page=1)},"Begin"),n("button",{class:"vbtn",onClick:e[1]||(e[1]=o=>t.page=t.page>1?t.page-1:t.page)},"Prev"),n("button",{class:"vbtn",onClick:e[2]||(e[2]=(...o)=>i.goNext&&i.goNext(...o))},"Next"),n("button",{class:"vbtn",onClick:e[3]||(e[3]=(...o)=>i.goTelegram&&i.goTelegram(...o))},"Exit")])])):(r(),p("div",A,[n("div",y,[n("button",{class:"hbtn",onClick:e[4]||(e[4]=o=>t.page=1)},"Begin"),n("button",{class:"hbtn",onClick:e[5]||(e[5]=o=>t.page=t.page>1?t.page-1:t.page)},"Prev"),n("button",{class:"hbtn",onClick:e[6]||(e[6]=(...o)=>i.goNext&&i.goNext(...o))},"Next"),n("button",{class:"hbtn",onClick:e[7]||(e[7]=(...o)=>i.goTelegram&&i.goTelegram(...o))},"Exit")])])),a(" DEBUG: "),t.dtest?(r(),p("div",T,[a(" queryID = "+d(i.query_id),1),f,a(" WebAppInitData = "+d(t.dtest.initData),1),C,a(" WebAppInitDataUnsafe = "+d(t.dtest.initDataUnsafe),1),W,a(" WebAppChat = "+d(t.dtest.chat),1),k])):(r(),p("div",x," WebApp = None "))])}const B=b(m,[["render",N],["__scopeId","data-v-90cbd777"]]);export{B as default};
